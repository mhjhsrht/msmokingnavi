{% extends 'smoking/location_base.html' %}
{% block title %}- 위치/유형 페이지{% endblock %}

{% block content %}

<style>
.dropdown-menu {
        max-height: 400px;
        overflow: hidden;
        overflow-y: auto;
    }

    div#map {margin:0px auto}

    .box {
        position : absolute;
        top : 290px;
        left: 15px;
        width: 97%;

        text-align: center;
        border: 3px solid #57B59A;
        border-radius: 10px;
        padding: 2%;
        background: #FDFFFF;
    }

        footer {
        margin-top:1800px;
        }

    .dropdown>a {
    background-color: lightgray;
    }

.dropdown>a:hover {
    background-color: #57B59A;
}

.dropdown-item{
    height: 40px;
    font-size:16px;
    padding-top:10px;
}

#map{position:relative;overflow:hidden;}
.dropdown, .dropdown *{margin:0;color:#000;}
.dropdown {position:absolute;top:430px;left:50px;z-index:10;text-align:center;background-color:#fff;}

.typebox {width: 200px; height:240px; position:absolute; top:10px; right:10px; z-index:10; text-align:center; background-color:#fff; padding : 7px;
          border-radius:10px;}
.smalltype {margin-bottom:4px; font-size:23px;}

</style>

<div class = "dropdown">
        <button style="color:white; width: 150px; height:80px;font-size:23px;" class = "btn btn-secondary dropdown-toggle" data-toggle="dropdown">구 선택</button>
            <a class="dropdown-item" href="{% url 'smoking:gangnam_map' %}">강남구</a>
                <div class="dropdown-divider"></div> <!-- 구분선 -->
            <a class="dropdown-item" href="{% url 'smoking:gangdong_map' %}">강동구</a>
                <div class="dropdown-divider"></div> <!-- 구분선 -->
            <a class="dropdown-item" href="{% url 'smoking:gangbuk_map' %}">강북구</a>
                <div class="dropdown-divider"></div> <!-- 구분선 -->
            <a class="dropdown-item" href="{% url 'smoking:gangseo_map' %}">강서구</a>
                <div class="dropdown-divider"></div> <!-- 구분선 -->
            <a class="dropdown-item" href="{% url 'smoking:gwanak_map' %}">관악구</a>
                <div class="dropdown-divider"></div> <!-- 구분선 -->
            <a class="dropdown-item" href="{% url 'smoking:gwangjin_map' %}">광진구</a>
                <div class="dropdown-divider"></div> <!-- 구분선 -->
            <a class="dropdown-item" href="{% url 'smoking:guro_map' %}">구로구</a>
                <div class="dropdown-divider"></div> <!-- 구분선 -->
            <a class="dropdown-item" href="{% url 'smoking:geumcheon_map' %}">금천구</a>
                <div class="dropdown-divider"></div> <!-- 구분선 -->
            <a class="dropdown-item" href="{% url 'smoking:nowon_map' %}">노원구</a>
                <div class="dropdown-divider"></div> <!-- 구분선 -->
            <a class="dropdown-item" href="{% url 'smoking:dobong_map' %}">도봉구</a>
                <div class="dropdown-divider"></div> <!-- 구분선 -->
            <a class="dropdown-item" href="{% url 'smoking:dongdaemun_map' %}">동대문구</a>
                <div class="dropdown-divider"></div> <!-- 구분선 -->
            <a class="dropdown-item" href="{% url 'smoking:dongjak_map' %}">동작구</a>
                <div class="dropdown-divider"></div> <!-- 구분선 -->
            <a class="dropdown-item" href="{% url 'smoking:mapo_map' %}">마포구</a>
                <div class="dropdown-divider"></div> <!-- 구분선 -->
            <a class="dropdown-item" href="{% url 'smoking:seodaemun_map' %}">서대문구</a>
                <div class="dropdown-divider"></div> <!-- 구분선 -->
            <a class="dropdown-item" href="{% url 'smoking:seocho_map' %}">서초구</a>
                <div class="dropdown-divider"></div> <!-- 구분선 -->
            <a class="dropdown-item" href="{% url 'smoking:seongdong_map' %}">성동구</a>
                <div class="dropdown-divider"></div> <!-- 구분선 -->
            <a class="dropdown-item" href="{% url 'smoking:seongbuk_map' %}">성북구</a>
                <div class="dropdown-divider"></div> <!-- 구분선 -->
            <a class="dropdown-item" href="{% url 'smoking:songpa_map' %}">송파구</a>
                <div class="dropdown-divider"></div> <!-- 구분선 -->
            <a class="dropdown-item" href="{% url 'smoking:yangcheon_map' %}">양천구</a>
                <div class="dropdown-divider"></div> <!-- 구분선 -->
            <a class="dropdown-item" href="{% url 'smoking:yeongdeungpo_map' %}">영등포구</a>
                <div class="dropdown-divider"></div> <!-- 구분선 -->
            <a class="dropdown-item" href="{% url 'smoking:yongsan_map' %}">용산구</a>
                <div class="dropdown-divider"></div> <!-- 구분선 -->
            <a class="dropdown-item" href="{% url 'smoking:eunpyeong_map' %}">은평구</a>
                <div class="dropdown-divider"></div> <!-- 구분선 -->
            <a class="dropdown-item" href="{% url 'smoking:jongro_map' %}">종로구</a>
                <div class="dropdown-divider"></div> <!-- 구분선 -->
            <a class="dropdown-item" href="{% url 'smoking:jung_map' %}">중구</a>
                <div class="dropdown-divider"></div> <!-- 구분선 -->
            <a class="dropdown-item" href="{% url 'smoking:jungrang_map' %}">중랑구</a>
       </div>

<div class="box" align="center">
    <br/>
    <h4><strong>중구 흡연구역 상세 지도</strong></h4>
    <sub><strong style="color:blue">정보공개포털</strong>과 <strong style="color:blue">공공데이터포털</strong>의 데이터를 기반으로 만들어졌습니다.</sub><br/><br/>
<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=541b6d15b257b828a3da0c50a02d541e"></script>

<div id="map" style="width:100%;height:1200px;">
       <div class="typebox">
            <div class="smalltype"><img style="width:42px; height:42px;" src="https://user-images.githubusercontent.com/73709089/140315617-3954363c-15c7-4054-88ae-3f27022fb89f.png">완전폐쇄형 </div>
            <div class="smalltype"><img style="width:42px; height:42px;" src="https://user-images.githubusercontent.com/73709089/140315629-ae6791aa-13fc-4bcb-83a6-909d849abebf.png">완전개방형 </div>
            <div class="smalltype"><img style="width:42px; height:42px;" src="https://user-images.githubusercontent.com/73709089/140315641-718e9afd-e90b-48d4-9502-96404a2b76b8.png">부분개방형 </div>
            <div class="smalltype"><img style="width:42px; height:42px;" src="https://user-images.githubusercontent.com/73709089/140315652-89c32358-efcb-4104-8b0d-0380732209b8.png">&nbsp&nbsp&nbsp&nbsp&nbsp기타&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp </div>
           <div class="smalltype"><img style="width:42px; height:42px;" src="https://user-images.githubusercontent.com/73709089/141743559-f74478c8-af5f-4e72-9d38-6ed3f1d28e7e.png">&nbsp&nbsp&nbsp&nbsp&nbsp제보&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp </div>
        </div>
</div>
<br/><br/>

<script>
var mapContainer = document.getElementById('map'), // 지도를 표시할 div
    mapOption = {
        center: new kakao.maps.LatLng(37.56028391162533, 126.98473192710667), // 지도의 중심좌표
        level: 5 // 지도의 확대 레벨
    };

var map = new kakao.maps.Map(mapContainer, mapOption); // 지도를 생성합니다

var littleopenpositions = [
    {
        title: '을지로입구역(롯데백화점)', // 1
        content: '<div style="padding:15px;width:350px;text-align: center;">을지로입구역(롯데백화점)<br>부분개방형<br><a href="http://kko.to/jdDgnyff0">길찾기</a></div>',
        latlng: new kakao.maps.LatLng(37.56575935388957, 126.98213878254613), // 1 좌표
        category : '부분개방형'
    },
    {
        title: '하나카드본사 측면부', // 2
        content: '<div style="padding:15px;width:350px;text-align: center;">하나카드본사 측면부<br>부분개방형<br><a href="http://kko.to/va-Ecy44B">길찾기</a></div>',
        latlng: new kakao.maps.LatLng(37.565649383256314, 126.98502512295104), // 2 좌표
        category : '부분개방형'
    },
    {
        title: '하나은행본점 측면부', // 3
        content: '<div style="padding:15px;width:350px;text-align: center;">하나은행본점 측면부<br>부분개방형<br><a href="http://kko.to/8yREcm4fH">길찾기</a></div>',
        latlng: new kakao.maps.LatLng(37.56654317853196, 126.98186410929979), // 3 좌표
        category : '부분개방형'
    },
    {
        title: '장교빌딩 전면부', // 4
        content: '<div style="padding:15px;width:350px;text-align: center;">장교빌딩 전면부<br>부분개방형<br><a href="http://kko.to/SgGinmffo">길찾기</a></div>',
        latlng: new kakao.maps.LatLng(37.567203838374084, 126.9870282949944), // 4 좌표
        category : '부분개방형'
    },
    {
        title: '두산타워 전면부', // 5
        content: '<div style="padding:15px;width:350px;text-align: center;">두산타워 전면부<br>부분개방형<br><a href="http://kko.to/Xc33ny440">길찾기</a></div>',
        latlng: new kakao.maps.LatLng(37.56900171820447, 127.00868196936305), // 5 좌표
        category : '부분개방형'
    },
];

var fullclosepositions = [
        {
        title: '서울스퀘어(서울역 8번 출구)', // 6
        content: '<div style="padding:15px;width:350px;text-align: center;">서울스퀘어(서울역 8번 출구)<br>완전폐쇄형<br><a href="http://kko.to/SnOhcmff0">길찾기</a></div>',
        latlng: new kakao.maps.LatLng(37.555923385758994, 126.97365590403393), // 6 좌표
        category : '완전폐쇄형'
    },
];

// 부분개방형 마커 이미지의 이미지 주소입니다
var loimageSrc = "https://user-images.githubusercontent.com/73709089/140315641-718e9afd-e90b-48d4-9502-96404a2b76b8.png";

for (var i = 0; i < littleopenpositions.length; i ++) {

    // 마커 이미지의 이미지 크기 입니다
    var imageSize = new kakao.maps.Size(64, 64);

    // 마커 이미지를 생성합니다
    var lomarkerImage = new kakao.maps.MarkerImage(loimageSrc, imageSize);

    // 마커를 생성합니다
    var marker = new kakao.maps.Marker({
        map: map, // 마커를 표시할 지도
        position: littleopenpositions[i].latlng, // 마커를 표시할 위치
        image : lomarkerImage // 마커 이미지
    });

    // 마커에 표시할 인포윈도우를 생성합니다
    var infowindow = new kakao.maps.InfoWindow({
        content: littleopenpositions[i].content, // 인포윈도우에 표시할 내용
        removable:true
    });

    // 마커에 mouseover 이벤트와 mouseout 이벤트를 등록합니다
    // 이벤트 리스너로는 클로저를 만들어 등록합니다
    // for문에서 클로저를 만들어 주지 않으면 마지막 마커에만 이벤트가 등록됩니다
    kakao.maps.event.addListener(marker, 'click', makeOverListener(map, marker, infowindow));
}

// 인포윈도우를 표시하는 클로저를 만드는 함수입니다
function makeOverListener(map, marker, infowindow) {
    return function() {
        infowindow.open(map, marker);
    };
}

// 인포윈도우를 닫는 클로저를 만드는 함수입니다
function makeOutListener(infowindow) {
    return function() {
        infowindow.close();
    };
}

// ---------------------------------------------------------------------------------------------

// 완전폐쇄형 마커 이미지의 이미지 주소입니다
var fcimageSrc = "https://user-images.githubusercontent.com/73709089/140315617-3954363c-15c7-4054-88ae-3f27022fb89f.png";

for (var i = 0; i < fullclosepositions.length; i ++) {

    // 마커 이미지의 이미지 크기 입니다
    var imageSize = new kakao.maps.Size(64, 64);

    // 마커 이미지를 생성합니다
    var markerImage = new kakao.maps.MarkerImage(fcimageSrc, imageSize);

    // 마커를 생성합니다
    var marker = new kakao.maps.Marker({
        map: map, // 마커를 표시할 지도
        position: fullclosepositions[i].latlng, // 마커를 표시할 위치
        image : markerImage // 마커 이미지
    });

    // 마커에 표시할 인포윈도우를 생성합니다
    var infowindow = new kakao.maps.InfoWindow({
        content: fullclosepositions[i].content, // 인포윈도우에 표시할 내용
        removable:true
    });

    // 마커에 mouseover 이벤트와 mouseout 이벤트를 등록합니다
    // 이벤트 리스너로는 클로저를 만들어 등록합니다
    // for문에서 클로저를 만들어 주지 않으면 마지막 마커에만 이벤트가 등록됩니다
    kakao.maps.event.addListener(marker, 'click', makeOverListener(map, marker, infowindow));
}

// 인포윈도우를 표시하는 클로저를 만드는 함수입니다
function makeOverListener(map, marker, infowindow) {
    return function() {
        infowindow.open(map, marker);
    };
}

// 인포윈도우를 닫는 클로저를 만드는 함수입니다
function makeOutListener(infowindow) {
    return function() {
        infowindow.close();
    };
}
</script>
<!--    box2-->
    <br/>
<div class="box2" align="center" style="width:100%; height:350px; overflow:auto">

        <table class="table">
            <thead class="thead" style="color:#4374D9">
                <tr>
                    <th scope="col">자치구</th>
                    <th scope="col">흡연구역 유형</th>
                    <th scope="col">주소</th>
                    <th scope="col">길찾기</th>
                </tr>
            </thead>

            <tbody>
            <tr>
                <td>중구</td>
                <td>부분개방형</td>
                <td>을지로입구역(롯데백화점)</td>
                <td><a href="http://kko.to/jdDgnyff0" style="text-decoration:none;">길찾기</a></td>
            </tr>
            <tr>
                <td>중구</td>
                <td>부분개방형</td>
                <td>하나카드본사 측면부</td>
                <td><a href=http://kko.to/va-Ecy44B" style="text-decoration:none;">길찾기</a></td>
            </tr>
            <tr>
                <td>중구</td>
                <td>부분개방형</td>
                <td>하나은행본점 측면부</td>
                <td><a href="http://kko.to/8yREcm4fH" style="text-decoration:none;">길찾기</a></td>
            </tr>
            <tr>
                <td>중구</td>
                <td>부분개방형</td>
                <td>장교빌딩 전면부</td>
                <td><a href="http://kko.to/SgGinmffo" style="text-decoration:none;">길찾기</a></td>
            </tr>
               <tr>
                <td>중구</td>
                <td>부분개방형</td>
                <td>두산타워 전면부</td>
                <td><a href="http://kko.to/Xc33ny440" style="text-decoration:none;">길찾기</a></td>
            </tr>
            <tr>
                <td>중구</td>
                <td>완전폐쇄형</td>
                <td>서울스퀘어(서울역 8번 출구)</td>
                <td><a href="http://kko.to/SnOhcmff0" style="text-decoration:none;">길찾기</a></td>
            </tr>

            </tbody>
        </table>
</div>
</div>

{% endblock %}